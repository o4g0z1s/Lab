<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://images.emojiterra.com/microsoft/fluent-emoji/15.1/1024px/1f308_color.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Emoji:wght@300..700&display=swap" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-E675FYQ3DK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-E675FYQ3DK');
    </script>
    <title>ğ™´ğš—ğšğš›ğš˜ğš™ğš¢ - ğŸ¹ğ™³</title>
    <style>
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            overflow: hidden;
        }
        body {
            font-family: "Noto Emoji", Helvetica;
            perspective: 1000px;
            user-select: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #container {
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
        }
        .text {
            position: absolute;
            left: 50%;
            top: 50%;
            white-space: nowrap;
            transform-origin: center center;
        }
    </style>
</head>
<body>
    <div id="container"></div>

<script src="x.js"></script>
<script>
    const container = document.getElementById('container');
    const sphereRadius = Math.min(window.innerWidth, window.innerHeight) * 0.35;
    const isSmallScreen = window.innerWidth < 768;

    // --- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•° ---
    function getRandomBackgroundColor() {
        const colors = ['#ffe', '#000'];
        return colors[Math.floor(Math.random() * colors.length)];
    }
    function getRandomColor() {
        const letters = '0123456789ABCDEF';
        let color = '#';
        for (let i = 0; i < 6; i++) {
            color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
    }
    function getRandomUnicodeChar() {
        const unicodeRange = [ [0x0531, 0x2E42], [0x0531, 0x2E42], [0xA000, 0xABF9], ];
        let codePoint, isExcluded;
        do {
            const range = unicodeRange[Math.floor(Math.random() * unicodeRange.length)];
            codePoint = Math.floor(Math.random() * (range[1] - range[0] + 1)) + range[0];
            isExcluded = excludedCodePoints.includes(codePoint);
        } while (isExcluded);
        return String.fromCharCode(codePoint);
    }

    // --- 3Dã‚¢ãƒ¼ãƒˆç”Ÿæˆé–¢æ•° ---
    function getRandom3DPosition(radius) {
        const theta = Math.random() * 2 * Math.PI;
        const phi = Math.acos((Math.random() * 2) - 1);
        const r = radius * Math.cbrt(Math.random());
        const x = r * Math.sin(phi) * Math.cos(theta);
        const y = r * Math.sin(phi) * Math.sin(theta);
        const z = r * Math.cos(phi);
        return { x, y, z };
    }

    function getOuterSpherePosition(radius) {
        const theta = Math.random() * 2 * Math.PI;
        const phi = Math.acos((Math.random() * 2) - 1);
        const radiusFactor = isSmallScreen ? 1.15 : 1.08;
        const r = radius * (radiusFactor + Math.random() * 0.05);
        const x = r * Math.sin(phi) * Math.cos(theta);
        const y = r * Math.sin(phi) * Math.sin(theta);
        const z = r * Math.cos(phi);
        return { x, y, z };
    }

    function createRandomText(isOuter = false) {
        const textElement = document.createElement('div');
        textElement.className = 'text';
        textElement.textContent = getRandomUnicodeChar();
        
        const { x, y, z } = isOuter 
            ? getOuterSpherePosition(sphereRadius)
            : getRandom3DPosition(sphereRadius);
        
        let baseFontSize;
        if (isOuter) {
            const maxFontSize = isSmallScreen ? 30 : 40;
            baseFontSize = Math.random() * maxFontSize + 5;
        } else {
            const maxFontSize = isSmallScreen ? 150 : 200;
            const randomFactor = (Math.random() + Math.random()) / 2;
            baseFontSize = randomFactor * maxFontSize + 5;
        }
        
        textElement.style.fontSize = `${baseFontSize}px`;
        textElement.style.color = getRandomColor();
        
        const initialAngle = Math.random() * 360;
        textElement.style.transform = `translate(-50%, -50%) translate3d(${x}px, ${y}px, ${z}px) rotateZ(${initialAngle}deg)`;
        
        container.appendChild(textElement);
    }

    function generateRandomArt() {
        const numberOfInnerTexts = isSmallScreen ? 200 : 270;
        for (let i = 0; i < numberOfInnerTexts; i++) {
            createRandomText(false); // isOuter = false
        }

        const numberOfOuterTexts = isSmallScreen ? 80 : 100;
        for (let i = 0; i < numberOfOuterTexts; i++) {
            createRandomText(true); // isOuter = true
        }
    }

    // --- ãƒã‚¦ã‚¹ãƒ»ã‚¿ãƒƒãƒã«ã‚ˆã‚‹è¦–ç‚¹å›è»¢ã®å®Ÿè£… ---
    let rotationX = 0;
    let rotationY = 0;
    let isDragging = false;
    let lastX = 0;
    let lastY = 0;

    function updateRotation() {
        const transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg)`;
        container.style.transform = transform;
    }

    function handleDragStart(e) {
        isDragging = true;
        container.style.transition = 'none';
        const touch = e.type === 'touchstart';
        lastX = touch ? e.touches[0].clientX : e.clientX;
        lastY = touch ? e.touches[0].clientY : e.clientY;
    }

    function handleDragMove(e) {
        if (!isDragging) return;
        if (e.type === 'touchmove') e.preventDefault();
        
        const touch = e.type === 'touchmove';
        const clientX = touch ? e.touches[0].clientX : e.clientX;
        const clientY = touch ? e.touches[0].clientY : e.clientY;

        const dx = clientX - lastX;
        const dy = clientY - lastY;

        rotationY += dx * 0.2;
        rotationX -= dy * 0.2;
        rotationX = Math.max(-90, Math.min(90, rotationX));

        updateRotation();

        lastX = clientX;
        lastY = clientY;
    }

    function handleDragEnd() {
        isDragging = false;
        container.style.transition = 'transform 0.1s ease-out';
    }

    // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®ç™»éŒ²
    document.addEventListener('mousedown', handleDragStart);
    document.addEventListener('touchstart', handleDragStart);
    document.addEventListener('mousemove', handleDragMove);
    document.addEventListener('touchmove', handleDragMove, { passive: false });
    document.addEventListener('mouseup', handleDragEnd);
    document.addEventListener('mouseleave', handleDragEnd);
    document.addEventListener('touchend', handleDragEnd);

    // --- åˆæœŸåŒ–å‡¦ç† ---
    document.body.style.backgroundColor = getRandomBackgroundColor();
    generateRandomArt();
    updateRotation();

</script>
</body>
</html>